webpackJsonp([1],{"02do":function(t,e){},"9fDA":function(t,e){},CZfb:function(t,e){},EfWZ:function(t,e){},H3qQ:function(t,e){},Jf6I:function(t,e){},"Liz/":function(t,e){},MwIr:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={};n.d(s,"setUser",function(){return W});var i={};n.d(i,"getMenuItems",function(){return G}),n.d(i,"currentUser",function(){return X}),n.d(i,"isLogin",function(){return Y});var a={};n.d(a,"setMenuItems",function(){return B}),n.d(a,"removeMenuItem",function(){return K}),n.d(a,"pushToMenuItem",function(){return tt}),n.d(a,"setUser",function(){return et});var r=n("7+uW"),o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"left"},[t._v("智能点餐系统")]),t._v(" "),n("ul",{staticClass:"center hidden-xs"},[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("主页")])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:{name:"menu"}}},[t._v("菜单")])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"admin"}},[t._v("管理")])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"about"}},[t._v("关于我们")])],1)]),t._v(" "),n("ul",{staticClass:"right hidden-xs"},[t.isLogin?n("li",[n("router-link",{attrs:{to:"",tag:"span"}},[t._v("欢迎登录:")])],1):t._e(),t._v(" "),t.isLogin?t._e():n("li",[n("router-link",{attrs:{to:"login"}},[t._v("立即登录")])],1),t._v(" "),t.isLogin?n("li",[n("router-link",{attrs:{to:""}},[t._v(t._s(t.currentUser))])],1):t._e(),t._v(" "),t.isLogin?t._e():n("li",[n("router-link",{attrs:{to:"register"}},[t._v("马上注册")])],1),t._v(" "),t.isLogin?n("li",[n("router-link",{attrs:{to:"/login"}},[t._v("退出登录")])],1):t._e()])])},staticRenderFns:[]};var c={name:"App",components:{headers:n("VU/8")({data:function(){return{}},computed:{currentUser:function(){return this.$store.getters.currentUser},isLogin:function(){return this.$store.getters.isLogin}}},o,!1,function(t){n("02do")},"data-v-72442186",null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("headers"),this._v(" "),e("div",{staticClass:"container"},[e("router-view")],1),this._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"col-sm-12 col-md-4"},[e("router-view",{attrs:{name:"orderguide"}})],1),this._v(" "),e("div",{staticClass:"col-sm-12 col-md-4"},[e("router-view",{attrs:{name:"delivery"}})],1),this._v(" "),e("div",{staticClass:"col-sm-12 col-md-4"},[e("router-view",{attrs:{name:"history"}})],1)])],1)},staticRenderFns:[]};var u=n("VU/8")(c,l,!1,function(t){n("tXnX")},null,null).exports,v=n("/ocq"),m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-center",attrs:{id:"home"}},[n("div",{staticClass:"bg"},[n("h1",[t._v("欢迎大家品尝")]),t._v(" "),n("h2",[t._v("我们精心为你挑选了美味的pizza!")]),t._v(" "),n("button",{staticClass:"btn btn-info",on:{click:function(e){return t.$router.push({path:"/menu"})}}},[t._v("Let's order!")])])])])},staticRenderFns:[]};var d=n("VU/8")({data:function(){return{}}},m,!1,function(t){n("9fDA")},"data-v-a63e5464",null).exports,h={data:function(){return{email:"",password:""}},beforeRouteEnter:function(t,e,n){n(function(t){return t.$store.dispatch("setUser",null)})},methods:{onSubmit:function(){var t=this;this.$http.get("https://wd3791342287bvwamg.wilddogio.com/user.json").then(function(e){var n=e.data,s=[];for(var i in n){var a=n[i];s.push(a)}var r=s.filter(function(e){return e.email===t.email&&e.password===t.password});null!=r&&r.length>0?(t.$store.dispatch("setUser",r[0].email),t.$router.push({path:"/"})):alert("密码错误!")})}},created:function(){this.email=this.$route.query.email}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container main"},[t._m(0),t._v(" "),n("form",{staticClass:"col-sm-6 col-sm-offset-3",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("邮箱:")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("密码:")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),n("button",{staticClass:"btn btn-block btn-success",attrs:{type:"submit"}},[t._v("登录")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("h1",[this._v("OUYANGHAO")]),this._v(" "),e("h1",[this._v("LOGIN")])])}]};var p=n("VU/8")(h,f,!1,function(t){n("EfWZ")},"data-v-9819f8bc",null).exports,_={data:function(){return{email:"",password:"",confirmPassword:""}},methods:{onSubmit:function(){var t=this;if(this.password===this.confirmPassword){var e={confirmPassword:this.confirmPassword,email:this.email,password:this.password};this.$http.post("https://wd3791342287bvwamg.wilddogio.com/user.json",e).then(function(e){t.$router.push({path:"/login",query:{email:t.email}})})}else alert("密码不一致!")}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container main"},[t._m(0),t._v(" "),n("form",{staticClass:"col-sm-6 col-sm-offset-3",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("邮箱:")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("密码:")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("确认密码:")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})])]),t._v(" "),n("button",{staticClass:"btn btn-block btn-success",attrs:{type:"submit"}},[t._v("注册")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("h1",[this._v("OUYANGHAO")]),this._v(" "),e("h1",[this._v("REGISTER")])])}]};var b=n("VU/8")(_,g,!1,function(t){n("MwIr")},"data-v-def2b370",null).exports,w=n("NYxO"),C={data:function(){return{car:[],carText:"购物车空空如也..."}},computed:{getMenuItems:function(){return this.$store.getters.getMenuItems},totle:function(){var t=0;for(var e in this.car)t+=this.car[e].count*this.car[e].price;return t}},created:function(){this.createdData()},methods:{createdData:function(){var t=this;fetch("https://wd3791342287bvwamg.wilddogio.com/menu.json").then(function(t){return t.json()}).then(function(e){t.$store.commit("setMenuItems",e)})},addToCar:function(t,e){var n={name:t.name,size:e.size,price:e.price,count:1};if(this.car.length>0){var s=this.car.filter(function(n){return n.name===t.name&&n.price===e.price});s.length>0?s[0].count++:this.car.push(n)}else this.car.push(n)},carNumJian:function(t){t.count--,t.count<1&&this.removeItem(t)},carNumJia:function(t){t.count++},removeItem:function(t){this.car.splice(this.car.indexOf(t),1)}}},z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"col-sm-12 col-md-8"},[n("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.getMenuItems,function(e,s){return n("tbody",{key:s},[n("tr",[n("td",[n("strong",[t._v(t._s(e.name))])])]),t._v(" "),t._l(e.options,function(s,i){return n("tr",{key:i},[n("td",[t._v(t._s(s.size)+" 寸")]),t._v(" "),n("td",[t._v(t._s(s.price)+" 元")]),t._v(" "),n("td",[n("button",{staticClass:"btn btn-xs btn-success",on:{click:function(n){return t.addToCar(e,s)}}},[t._v("+")])])])})],2)})],2)]),t._v(" "),n("div",{staticClass:"col-sm-12 col-md-4"},[n("h3",[t._v("购物车")]),t._v(" "),t.car.length>0?n("div",[n("table",{staticClass:"table table-hover"},[t._m(1),t._v(" "),t._l(t.car,function(e,s){return n("tbody",{key:s},[n("tr",[n("td",[n("button",{staticClass:"btn btn-xs btn-success",on:{click:function(n){return t.carNumJian(e)}}},[t._v("-")]),t._v(" "),n("span",[t._v(t._s(e.count))]),t._v(" "),n("button",{staticClass:"btn btn-xs btn-success",on:{click:function(n){return t.carNumJia(e)}}},[t._v("+")])]),t._v(" "),n("td",[t._v(t._s(e.name)+" "+t._s(e.size)+"寸")]),t._v(" "),n("td",[t._v(t._s(e.price*e.count)+" 元")])])])})],2),t._v(" "),n("p",[t._v("总价:"+t._s(t.totle)+"元")]),t._v(" "),n("button",{staticClass:"btn btn-block btn-success"},[t._v("提交订单")])]):n("div",[n("h4",{staticClass:"text-success"},[t._v(t._s(t.carText))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-default"},[e("tr",[e("th",[this._v("尺寸")]),this._v(" "),e("th",[this._v("价格")]),this._v(" "),e("th",[this._v("加入")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-default"},[e("tr",[e("th",[this._v("数量")]),this._v(" "),e("th",[this._v("品种")]),this._v(" "),e("th",[this._v("价格")])])])}]};var P=n("VU/8")(C,z,!1,function(t){n("fRrw")},null,null).exports,x=n("mvHQ"),$=n.n(x),y={data:function(){return{newPizza:{}}},methods:{addMenuItem:function(){var t=this,e={name:this.newPizza.name,description:this.newPizza.description,options:[{size:this.newPizza.size1,price:this.newPizza.price1},{size:this.newPizza.size2,price:this.newPizza.price2}]};fetch("https://wd3791342287bvwamg.wilddogio.com/menu.json",{method:"POST",headers:{"Content-type":"application/json"},body:$()(e)}).then(function(t){return t.json()}).then(function(e){t.$store.commit("pushToMenuItem",e),location.reload()}).catch(function(t){return alert(t)})}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",[n("h3",[t._v("ADD PIZZA")]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("品种")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPizza.name,expression:"newPizza.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newPizza.name},on:{input:function(e){e.target.composing||t.$set(t.newPizza,"name",e.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("尺寸")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPizza.size1,expression:"newPizza.size1"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newPizza.size1},on:{input:function(e){e.target.composing||t.$set(t.newPizza,"size1",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("价格")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPizza.price1,expression:"newPizza.price1"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newPizza.price1},on:{input:function(e){e.target.composing||t.$set(t.newPizza,"price1",e.target.value)}}})])]),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("尺寸")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPizza.size2,expression:"newPizza.size2"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newPizza.size2},on:{input:function(e){e.target.composing||t.$set(t.newPizza,"size2",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("价格")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPizza.price2,expression:"newPizza.price2"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.newPizza.price2},on:{input:function(e){e.target.composing||t.$set(t.newPizza,"price2",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label"},[t._v("描述")]),t._v(" "),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newPizza.description,expression:"newPizza.description"}],staticClass:"form-control",attrs:{rows:"5"},domProps:{value:t.newPizza.description},on:{input:function(e){e.target.composing||t.$set(t.newPizza,"description",e.target.value)}}})])]),t._v(" "),n("button",{staticClass:"btn btn-success btn-block",on:{click:t.addMenuItem}},[t._v("添加")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("选项1:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("选项2:")])])}]};var I={data:function(){return{}},created:function(){this.createdData()},methods:{deleteItem:function(t){var e=this;confirm("删除后不可恢复,你确定要删除吗?")&&fetch("https://wd3791342287bvwamg.wilddogio.com/menu/"+t.id+"/.json",{method:"DELETE",headers:{"Content-type":"application/json"}}).then(function(t){return t.json()}).then(function(n){e.$store.commit("removeMenuItem",t)}).catch(function(t){return alert("删除失败咯!")})},createdData:function(){var t=this;fetch("https://wd3791342287bvwamg.wilddogio.com/menu.json").then(function(t){return t.json()}).then(function(e){var n=[];for(var s in e)e[s].id=s,n.push(e[s]);t.$store.commit("setMenuItems",n)})}},components:{addpizza:n("VU/8")(y,E,!1,function(t){n("CZfb")},null,null).exports},computed:{getMenuItems:function(){return this.$store.getters.getMenuItems}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 col-md-8"},[n("addpizza")],1),t._v(" "),n("div",{staticClass:"col-sm-12 col-md-4"},[n("h3",[t._v("菜单")]),t._v(" "),n("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),t._l(t.getMenuItems,function(e,s){return n("tbody",{key:s},[n("tr",[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[n("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(n){return t.deleteItem(e)}}},[t._v("×")])])])])})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("品种")]),this._v(" "),e("th",[this._v("删除")])])])}]};var k=n("VU/8")(I,U,!1,function(t){n("d6ht")},null,null).exports,N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container main"},[n("div",{staticClass:"col-sm-4 left"},[n("ul",{staticClass:"list-group"},[n("router-link",{attrs:{to:{name:"history"},tag:"li"}},[n("a",{staticClass:"list-group-item"},[t._v("历史订单")])]),t._v(" "),n("router-link",{attrs:{to:"orderguide",tag:"li"}},[n("a",{staticClass:"list-group-item"},[t._v("点餐文档")])]),t._v(" "),n("router-link",{attrs:{to:"delivery",tag:"li"}},[n("a",{staticClass:"list-group-item"},[t._v("快递信息")])]),t._v(" "),n("router-link",{attrs:{to:"contact",tag:"li"}},[n("a",{staticClass:"list-group-item"},[t._v("联系我们")])])],1)]),t._v(" "),n("div",{staticClass:"col-sm-8"},[n("router-view")],1)])},staticRenderFns:[]};var M=n("VU/8")({},N,!1,function(t){n("H3qQ")},"data-v-6293fc1a",null).exports,R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("h4",[t._v("联系我们")]),t._v(" "),n("div",{staticClass:"info"},[t._v("联系我们")]),t._v(" "),n("div",{staticClass:"phoneAndNameBox"},[n("router-link",{attrs:{to:{name:"phone"}}},[t._v("电话")]),t._v(" "),n("router-link",{attrs:{to:{name:"personname"}}},[t._v("联系人")])],1),t._v(" "),n("router-view")],1)},staticRenderFns:[]};var L=n("VU/8")({},R,!1,function(t){n("Qq6U")},"data-v-372ce1fe",null).exports,j={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("h4",[this._v("历史信息")]),this._v(" "),e("h5",{staticClass:"info"},[this._v("历史信息")]),this._v(" "),e("h5",[this._v("ouyanghaobbb@foxmail.com")])])}]};var F=n("VU/8")({},j,!1,function(t){n("fZaT")},"data-v-1d258d73",null).exports,V={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("h4",[this._v("点餐文档")]),this._v(" "),e("h5",{staticClass:"info"},[this._v("点餐文档")]),this._v(" "),e("h5",[this._v("ouyanghaobbb@foxmail.com")])])}]};var A=n("VU/8")({},V,!1,function(t){n("Liz/")},"data-v-7940a6d9",null).exports,T={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("h4",[this._v("快递信息")]),this._v(" "),e("h5",{staticClass:"info"},[this._v("快递信息")]),this._v(" "),e("h5",[this._v("ouyanghaobbb@foxmail.com")])])}]};var D=n("VU/8")({},T,!1,function(t){n("Jf6I")},"data-v-cae39d56",null).exports,O={render:function(){var t=this.$createElement;return(this._self._c||t)("h4",[this._v("177 7145 4809")])},staticRenderFns:[]};var Z=n("VU/8")({},O,!1,function(t){n("owoo")},null,null).exports,q={render:function(){var t=this.$createElement;return(this._self._c||t)("h4",[this._v("欧阳浩")])},staticRenderFns:[]};var H=n("VU/8")({},q,!1,function(t){n("jQrW")},null,null).exports;r.a.use(v.a);var J=new v.a({routes:[{path:"*",redirect:"/"},{path:"/",name:"home",components:{default:d,orderguide:A,delivery:D,history:F}},{path:"/login",name:"login",component:p},{path:"/register",name:"register",component:b},{path:"/menu",name:"menu",component:P},{path:"/admin",name:"admin",component:k},{path:"/about",name:"about",component:M,redirect:"/contact",children:[{path:"/contact",name:"contact",component:L,redirect:"/personname",children:[{path:"/phone",name:"phone",component:Z},{path:"/personname",name:"personname",component:H}]},{path:"/history",name:"history",component:F},{path:"/orderguide",name:"orderguide",component:A},{path:"/delivery",name:"delivery",component:D}]}]}),Q=n("mtWM"),S=n.n(Q),W=function(t,e){(0,t.commit)("setUser",e)},G=function(t){return t.menuItems},X=function(t){return t.currentUser},Y=function(t){return t.isLogin},B=function(t,e){t.menuItems=e},K=function(t,e){t.menuItems.forEach(function(n,s){n.id==e.id&&t.menuItems.splice(s,1)})},tt=function(t,e){t.menuItems.push(e)},et=function(t,e){null!=e?(t.currentUser=e,t.isLogin=!0):(t.currentUser=null,t.isLogin=!1)};r.a.use(w.a);var nt=new w.a.Store({state:{menuItems:"",currentUser:null,isLogin:!1},getters:i,mutations:a,actions:s});r.a.prototype.$http=S.a,r.a.config.productionTip=!1,new r.a({el:"#app",router:J,store:nt,components:{App:u},template:"<App/>"})},Qq6U:function(t,e){},d6ht:function(t,e){},fRrw:function(t,e){},fZaT:function(t,e){},jQrW:function(t,e){},owoo:function(t,e){},tXnX:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cf504756f724f3b5708c.js.map